<div *ngIf="data$ | async as data; else loading">
  <div *ngIf="data; else error">
    <ul>
      <li *ngFor="let item of data">{{ item }}</li>
    </ul>
  </div>
</div>
<ng-template #loading>
  <p>Loading data...</p>
</ng-template>
<ng-template #error>
  <div *ngIf="error$ | async as errorMsg">
    <p>Error: {{ errorMsg }}</p>
  </div>
</ng-template>

