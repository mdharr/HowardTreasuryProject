<div *ngIf="!isLoaded" class="spinner-wrapper">
  <div class="spinner-box">
    <mat-spinner></mat-spinner>
  </div>
</div>
<div *ngIf="isLoaded">
  <div class="main-title">
    <div class="title-container">
      <h1 class="title-text">Search Results</h1>
    </div>
  </div>

  <div class="results-wrapper">
    <p class="results-count">{{ searchResultsCount > 1 ? 'About ' + searchResultsCount + ' results' : searchResultsCount === 1 ? searchResultsCount + ' result' : searchResultsCount + ' results match your query.' }}</p>
    <ng-container *ngFor="let result of searchResults; let lastIndex = last">
      <h2 class="type-header">{{ result.type === 'Person' ? 'Character' : result.type }}</h2>
      <div *ngIf="result.type === 'Collection'">
        <h3 class="results-items" [routerLink]="['/collections', result.data.id]">{{ result.data.title }}</h3>
        <!-- Display other properties specific to the Collection type -->
        <p><span class="items-name">Description:</span> {{ result.data.description }}</p>
        <p><span class="items-name">Published:</span> {{ result.data.publishedAt | date:'longDate' }}</p>
        <p><span class="items-name">Series:</span> {{ result.data.series.title }}</p>
        <p><span class="items-name">Recurring Character:</span> {{ result.data.persons[0].name }}</p>
        <!-- Add more properties as needed -->
      </div>
      <div *ngIf="result.type === 'Story'">
        <h3>{{ result.data.title }}</h3>
        <!-- Display other properties specific to the Story type -->
        <p><span class="items-name">Read Online: </span><a href="{{ result.data.textUrl }}" target="_blank">{{ result.data.textUrl }}</a></p>
        <!-- Add more properties as needed -->
      </div>
      <div *ngIf="result.type === 'Poem'">
        <h3>{{ result.data.title }}</h3>
        <!-- Display other properties specific to the Poem type -->
        <!-- Add more properties as needed -->
        <p><span class="items-name">Read Online: </span><a href="{{ result.data.textUrl }}" target="_blank">{{ result.data.textUrl }}</a></p>
      </div>
      <div *ngIf="result.type === 'Person'">
        <h3>{{ result.data.name }}</h3>
        <!-- Display other properties specific to the Person type -->
        <!-- Add more properties as needed -->
      </div>
      <div *ngIf="result.type === 'Miscellanea'">
        <h3>{{ result.data.title }}</h3>
        <!-- Display other properties specific to the Miscellanea type -->
        <!-- Add more properties as needed -->
      </div>
      <!-- You can add more conditional blocks for other types -->
      <hr *ngIf="!lastIndex">
    </ng-container>
  </div>
  <div class="placeholder-container">

  </div>
</div>

